# 國小學生正向評語生成器 - 開發進度

## 資料結構與名言庫
- [x] 建立預設正向特質選項庫
- [x] 建立預設缺點選項庫
- [x] 建立預設建議選項庫
- [x] 建立名言佳句資料庫

## 資料庫與後端
- [x] 設計資料庫表格結構（學生評語、名言、選項等）
- [x] 實作資料庫遷移
- [x] 建立後端 API 端點（評語生成、記錄查詢、刪除等）
- [x] 整合 LLM 服務進行評語生成

## 前端介面
- [x] 設計手繪草圖美學的全局樣式（奶油色背景、炭灰色線條）
- [x] 實作首頁/評語生成頁面
- [x] 實作學生名稱輸入欄位
- [x] 實作正向特質多選器（含自訂輸入）
- [x] 實作缺點多選器（含自訂輸入）
- [x] 實作印象深刻之處文字輸入欄位
- [x] 實作建議事項多選器（含自訂輸入）
- [x] 實作評語預覽功能
- [x] 實作評語複製功能
- [x] 實作評語歷史記錄頁面

## LLM 評語生成
- [x] 設計 LLM 提示詞模板
- [x] 實作評語生成邏輯
- [x] 實作名言佳句自動匹配和插入
- [x] 測試評語品質和語氣

## 評語記錄與匯出
- [x] 實作評語保存功能
- [x] 實作評語歷史查詢功能
- [ ] 實作 PDF 匯出功能
- [ ] 實作圖片匯出功能
- [ ] 實作電子郵件發送功能

## 測試與優化
- [x] 單元測試
- [ ] 整合測試
- [ ] 使用者體驗測試
- [ ] 效能優化

## 部署
- [ ] 最終檢查
- [ ] 部署到生產環境


## 使用者反饋修改
- [x] 令人印象深刻的地方改為可選項目（非必填）
- [x] 調整 LLM 提示詞，使評語字數控制在 200 字左右
- [x] 更新前端表單驗證邏輯
- [x] 測試修改後的功能


## 問題修正
- [x] 修正令人印象深刻的地方不填時無法生成評語的問題（後端驗證修正）
- [x] 將名言佳句庫更新為偵人名言（移除談語）
- [x] 測試修正後的功能


## 新增功能
- [x] 在評語生成後顯示字數統計


## 語氣改進
- [x] 調整「需要改進的地方」欄位標籤為更妥婉的表述（改為「待繌進步的地方」）
- [x] 優化 LLM 提示詞，严格控制評語字數在 180-200 字之間
- [x] 測試修改後的評語品質


## 問題修正 - 字數顯示重複
- [x] 檢查是否有重複顯示字數的問題
- [x] 確認哪個是正確的字數顯示（前端的字數統計是正確的）
- [x] 修正 LLM 提示詞，不要在評語中包含字數統計


## 評語編輯功能
- [x] 在歷史記錄頁面新增編輯按鈕
- [x] 實作評語編輯的 tRPC 路由（updateReview）
- [x] 建立編輯模態框或頁面
- [x] 實現實時字數統計更新
- [x] 新增編輯後的保存和取消功能
- [x] 測試編輯功能


## UI 標籤調整
- [x] 將「待繌進步的地方」改為「可以改進的地方」
